<!doctype html><html><head>    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <title>Пример когнитивного фильтра</title>    <script src="node_modules/chart.js/dist/Chart.bundle.js"></script>    <script src="node_modules/chart.js/samples/utils.js"></script>    <style>        canvas {            -moz-user-select: none;            -webkit-user-select: none;            -ms-user-select: none;        }    </style></head><body><div style="width:75%">    <canvas id="canvas"></canvas></div><button id="randomizeData">Randomize Data</button><!--Используем данные водорода--><script src="data/H.js"></script><!--Можно использовать данные гелия или натрия--><!--<script src="data/He.js"></script>--><!--<script src="data/Na.js"></script>--><script>    // определяем атом и его массив точек    var atom = H,        dataSpectr = [];    // проходим по всем переходам в поисках значений энергий уровня    atom.transitions.forEach(function(transition) {        // Переходы только с положительной интенсивностью        if (transition.INTENSITY > 0) {            var x = 0,                y = 0,                test = 0;            atom.levels.forEach(function (level) {                if (level.ID === transition.ID_LOWER_LEVEL) {                    // энергия нижнего уровня                    x = level.ENERGY;                }                if (level.ID === transition.ID_UPPER_LEVEL) {                    // энергия верхнего уровня                    y = level.ENERGY;                    test = level.TERMMULTIPLY;                }            });            // test определяет четность верх. уровня            // в зависимости от четности опрелеляется позиция точки. Это делается для того, чтобы заполнить пространство            var point = (test ? {x: y, y: x} : {x: x, y: y});            // добавляем точку в массив точек атома            dataSpectr.push(point);        }    });</script><script>    var color = Chart.helpers.color;    var scatterChartData = {        datasets: [{            label: 'Transitions of ' + atom.element.NAME_EN,            borderColor: window.chartColors.red,            backgroundColor: color(window.chartColors.red).alpha(0.2).rgbString(),            data: dataSpectr        }]    };    window.onload = function() {        var ctx = document.getElementById('canvas').getContext('2d');        window.myScatter = Chart.Scatter(ctx, {            data: scatterChartData,            options: {                title: {                    display: true,                    text: 'Atom of ' + atom.element.NAME_EN,                },            }        });    };    document.getElementById('randomizeData').addEventListener('click', function() {        scatterChartData.datasets.forEach(function(dataset) {            dataset.data = dataset.data.map(function() {                return {                    x: randomScalingFactor(),                    y: randomScalingFactor()                };            });        });        window.myScatter.update();    });</script></body></html>